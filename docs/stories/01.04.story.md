# Story 01.04: QA Agent Definition

## Status

| Field                  | Value                          |
|------------------------|--------------------------------|
| Status                 | Completed                      |
| Epic                   | Epic 1 - KubeRocketAI Baseline |
| Priority               | High                           |
| Estimated Story Points | 2                              |
| Jira                   | [EPMDEDP-15500]                |

## Dependencies

- **Story 1.1 Reference**: Can follow agent creation patterns established in architect agent story

## Story

**As a** Quality Assurance Engineer,
**I want** a complete QA agent framework with testing and quality assurance capabilities including agent definition, structured tasks, output templates, and reference data,
**so that** I can immediately use KubeRocketAI for comprehensive test planning, test case generation, and quality assurance with consistent outputs.

## Acceptance Criteria

1. `qa.yaml` agent is created with testing and quality assurance capabilities
2. Agent includes test plan and test case generation capabilities
3. Agent has automated test code generation and quality guidance prompts
4. Agent works effectively in Cursor (@agent) and Claude Code (/agent)
5. Agent behavioral guidelines and reference patterns are defined
6. Agent follows established format with identity grouping for consistency
7. Core QA tasks are created with procedural workflows
8. Tasks include `create-test-plan`, `generate-test-cases`, `execute-testing`, `report-defects` capabilities
9. Tasks reference templates and data assets using inline `[filename](path)` markdown links
10. Tasks follow established format for consistency
11. Output templates are created for consistent QA documentation
12. Templates include `test-plan.md`, `test-cases.md`, `test-report.md`, `defect-report.md`
13. Templates use variable placeholders (`{{variable_name}}`) for dynamic content
14. Templates follow established format for consistency
15. Reference data is created for QA guidelines and standards
16. Data includes `testing-standards.md`, `quality-metrics.md`, `test-methodologies.md`
17. Data assets are organized by purpose (behavioral for agents, technical for tasks)
18. Data follows established format for consistency
19. All four asset types work together in the progressive complexity model
20. Basic IDE usage is tested and documented with all asset types
21. JSON Schema validation available for agent validation with identity grouping support
22. Professional validation tool available with automatic .venv setup
23. Comprehensive validation including schema compliance and framework rules
24. Cross-platform validation tooling with clear error reporting
25. Validation success confirms framework integrity and format compliance

## Description

This story establishes the QA agent framework as the fourth complete implementation of the KubeRocketAI four-asset-type model. The QA agent provides comprehensive testing and quality assurance capabilities including test planning, test case generation, test execution, and defect reporting. Following the established pattern, this demonstrates the progressive complexity model with all four asset types (agent, tasks, templates, data) working together to provide a complete quality assurance workflow framework.

## Tasks/Subtasks

- [x] Task 1: Create QA Agent Foundation (AC: 1, 2, 3, 4, 5, 6)
  - [x] Create `assets/framework/core/agents/qa.yaml` with testing and quality assurance capabilities *(Changed: .yaml extension, not .md)*
  - [x] Define agent structure using established format with identity grouping from ([Source](docs/architecture/04-data-models.md)) *(Enhanced: Added identity grouping structure)*
  - [x] Establish QA agent behavioral guidelines and principles
  - [x] Add test plan and test case generation capabilities
  - [x] Create automated test code generation and quality guidance prompts
  - [x] Add command mappings for QA tasks
- [x] Task 2: Create QA Task Assets (AC: 7, 8, 9, 10)
  - [x] Create `assets/framework/core/tasks/create-test-plan.md` with test planning workflow *(Tasks are markdown format)*
  - [x] Create `assets/framework/core/tasks/generate-test-cases.md` with test case generation workflow *(Tasks are markdown format)*
  - [x] Create `assets/framework/core/tasks/execute-testing.md` with testing execution workflow *(Tasks are markdown format)*
  - [x] Create `assets/framework/core/tasks/report-defects.md` with defect reporting workflow *(Tasks are markdown format)*
  - [x] Implement inline `[filename](path)` markdown links for template and data references
  - [x] Ensure tasks follow established format from ([Source](docs/architecture/04-data-models.md))
- [x] Task 3: Create Template Assets (AC: 11, 12, 13, 14)
  - [x] Create `assets/framework/core/templates/test-plan.md` with test plan format
  - [x] Create `assets/framework/core/templates/test-cases.md` with test case format
  - [x] Create `assets/framework/core/templates/test-report.md` with test report format
  - [x] Create `assets/framework/core/templates/defect-report.md` with defect report format
  - [x] Implement `{{variable_name}}` syntax for dynamic content
  - [x] Ensure templates follow established format from ([Source](docs/architecture/04-data-models.md))
- [x] Task 4: Create Data Assets (AC: 15, 16, 17, 18)
  - [x] Create `assets/framework/core/data/testing-standards.md` for behavioral guidelines
  - [x] Create `assets/framework/core/data/quality-metrics.md` for quality measurement standards
  - [x] Create `assets/framework/core/data/test-methodologies.md` for technical constraints
  - [x] Organize data assets by purpose (behavioral for agents, technical for tasks)
  - [x] Ensure data follows established format from ([Source](docs/architecture/04-data-models.md))
- [x] Task 5: Integration and Testing (AC: 19, 20)
  - [x] Test progressive complexity model with all four asset types
  - [x] Test QA agent in Cursor with @agent syntax
  - [x] Test QA agent in Claude Code with /agent syntax
  - [x] Validate reference integrity between assets using `[filename](path)` markdown links
  - [x] Document manual usage patterns for complete QA framework
  - [x] Create QA framework interaction examples
- [x] Task 6: Validation and Framework Integrity *(Added: Professional validation infrastructure)*
  - [x] Run existing validation tool at `hack/validate-agents.py` for QA agent
  - [x] Validate JSON schema compliance with identity grouping structure
  - [x] Confirm comprehensive validation including framework rules
  - [x] Verify cross-platform validation tooling compatibility
  - [x] Document validation success and framework integrity confirmation

## Implementation Results

### Completed Deliverables

**Agent Infrastructure:**

- ✅ `qa.yaml` agent implemented with comprehensive testing and quality assurance capabilities
- ✅ Schema validation passing with identity grouping structure
- ✅ IDE integration tested in both Cursor (@agent) and Claude Code (/agent)

**Task Assets:**

- ✅ `create-test-plan.md` - Test planning workflow
- ✅ `generate-test-cases.md` - Test case generation workflow
- ✅ `execute-testing.md` - Test execution workflow
- ✅ `report-defects.md` - Defect reporting workflow

**Template Assets:**

- ✅ `test-plan.md` - Test plan template
- ✅ `test-cases.md` - Test cases template
- ✅ `test-report.md` - Test report template
- ✅ `defect-report.md` - Defect report template

**Data Assets:**

- ✅ `testing-standards.md` - Testing standards and quality principles
- ✅ `quality-metrics.md` - Quality metrics and measurement framework
- ✅ `test-methodologies.md` - Test methodologies and technical framework

**Validation Results:**

- ✅ All acceptance criteria verified and passing
- ✅ Professional validation tooling confirms schema compliance
- ✅ Cross-platform compatibility validated (macOS, Linux, Windows)
- ✅ Progressive complexity model working correctly across all four asset types

## QA Checklist

### Functional Testing

- [x] **Agent Validation**: Run schema validation on `qa.yaml` - Expected: passing validation
- [x] **Task Integration**: Verify all tasks reference templates and data correctly - Expected: valid references
- [x] **Template Variables**: Check all templates use `{{variable_name}}` syntax - Expected: proper placeholders

### Integration Testing

- [x] **IDE Testing**: Test QA agent in Cursor (@agent) - Expected: proper functionality
- [x] **IDE Testing**: Test QA agent in Claude Code (/agent) - Expected: proper functionality
- [x] **Asset Integration**: Verify progressive complexity model works - Expected: seamless integration

### Quality Assurance

- [x] **Professional Validation**: Run comprehensive validation tooling - Expected: all assets pass
- [x] **Reference Integrity**: Verify all cross-references between assets - Expected: valid links
- [x] **Framework Compliance**: Check alignment with data model specifications - Expected: full compliance
